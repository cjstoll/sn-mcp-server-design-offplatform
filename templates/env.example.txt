# ============================================================================
# MCP Gateway Server - Environment Configuration Template
# ============================================================================
#
# This is a template file. Copy this to .env and replace the placeholder
# values with your actual configuration.
#
# IMPORTANT: Never commit the .env file to version control!
# Add .env to your .gitignore file.
#
# ============================================================================

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Port the server will listen on
# Default: 3000
PORT=3000

# Environment identifier (development, staging, production)
# Default: development
NODE_ENV=development

# Public-facing server URL (used as JWT issuer if JWT_ISSUER not set)
# Example: https://mcp.yourdomain.com
SERVER_URL=http://localhost:3000

# ============================================================================
# AUTHENTICATION CONFIGURATION
# ============================================================================

# JWT secret for signing tokens (REQUIRED - 32+ characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64url'))"
# REPLACE THIS VALUE WITH A SECURE RANDOM STRING
JWT_SECRET=REPLACE-WITH-32-PLUS-CHARACTER-SECRET-HERE

# JWT token issuer (typically your server URL)
# Default: Uses SERVER_URL if not set
# JWT_ISSUER=https://mcp.yourdomain.com

# Dynamic Client Registration authorization token (REQUIRED - 32+ characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64url'))"
# REPLACE THIS VALUE WITH A SECURE RANDOM STRING
DCR_AUTH_TOKEN=REPLACE-WITH-32-PLUS-CHARACTER-TOKEN-HERE

# API Key for legacy/fallback authentication (optional)
# Used for development and testing
MCP_API_KEY=dev-test-key-12345

# ============================================================================
# TOKEN LIFETIME CONFIGURATION (in seconds)
# ============================================================================

# Access token expiration
# Default: 3600 (1 hour)
ACCESS_TOKEN_LIFETIME=3600

# Refresh token expiration
# Default: 2592000 (30 days)
REFRESH_TOKEN_LIFETIME=2592000

# Authorization code expiration
# Default: 600 (10 minutes)
AUTHORIZATION_CODE_LIFETIME=600

# ============================================================================
# SERVICENOW CONFIGURATION
# ============================================================================

# ServiceNow instance URL (REQUIRED)
# Must be HTTPS URL
# Example: https://your-instance.service-now.com
SERVICENOW_INSTANCE=https://your-instance.service-now.com

# ============================================================================
# REDIS CONFIGURATION (for token blacklist persistence)
# ============================================================================

# Redis server hostname
# Default: localhost
REDIS_HOST=localhost

# Redis server port
# Default: 6379
REDIS_PORT=6379

# Redis password (if required by your Redis server)
# REDIS_PASSWORD=your-redis-password

# ============================================================================
# DATABASE CONFIGURATION (if using database for client storage)
# ============================================================================

# PostgreSQL connection string (example)
# DATABASE_URL=postgresql://username:password@localhost:5432/mcp_server

# MongoDB connection string (example)
# MONGODB_URI=mongodb://localhost:27017/mcp_server

# ============================================================================
# CLOUD PROVIDER CONFIGURATION (for production deployments)
# ============================================================================

# Google Cloud Project ID (if using GCP Secret Manager)
# GCP_PROJECT_ID=your-gcp-project-id

# AWS Region (if using AWS Secrets Manager)
# AWS_REGION=us-east-1

# Azure Key Vault URL (if using Azure Key Vault)
# AZURE_KEY_VAULT_URL=https://your-vault.vault.azure.net/

# ============================================================================
# LOGGING CONFIGURATION (optional)
# ============================================================================

# Log level (error, warn, info, debug)
# Default: info
# LOG_LEVEL=info

# Log format (json, text)
# Default: text
# LOG_FORMAT=text

# ============================================================================
# EXTERNAL SERVICES (optional - for tool implementations)
# ============================================================================

# Ollama API endpoint (for LLM generation tool)
# Default: http://localhost:11434
# OLLAMA_API_URL=http://localhost:11434

# MCP workspace directory (for file operation tools)
# Default: ~/mcp-workspace
# MCP_WORKSPACE_DIR=/path/to/workspace

# ============================================================================
# NOTES
# ============================================================================
#
# 1. SECURITY: Never commit this file with real secrets to version control
# 2. VALIDATION: The server validates required variables at startup
# 3. DEFAULTS: Optional variables have default values if not set
# 4. GENERATION: Use crypto.randomBytes() to generate secure secrets
# 5. PRODUCTION: Use cloud secret managers instead of .env files
#
# For more information, see the MCP Server Implementation Guide.
#
# ============================================================================
